<template>
  <el-container class="container">
    <el-main class="card">
      <div class="contain">
        <el-image
          class="contain"
          v-if="info.src && '' !== info.src"
          :src="info.src"
          :preview-src-list="[info.src]">
          <svg slot="error" t="1726858143497" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12397" width="256" height="256"><path d="M532.48 529.105455H349.905455L523.636364 128H93.905455A94.021818 94.021818 0 0 0 0 221.905455V768a94.021818 94.021818 0 0 0 93.905455 93.905455h361.30909z" fill="#F2F6FF" p-id="12398"></path><path d="M930.094545 162.094545h-379.345454l-55.854546 290.21091 189.207273-0.698182L480.349091 896h449.745454A94.021818 94.021818 0 0 0 1024 802.094545V256a94.021818 94.021818 0 0 0-93.905455-93.905455z" fill="#F2F6FF" p-id="12399"></path><path d="M930.094545 162.094545h-379.345454l-9.890909 51.2h389.236363A42.705455 42.705455 0 0 1 972.8 256v235.985455c-61.090909-96-176.058182-102.4-256-82.385455a376.436364 376.436364 0 0 0-101.701818 42.24h69.003636L480.349091 896h449.745454A94.021818 94.021818 0 0 0 1024 802.094545V256a94.021818 94.021818 0 0 0-93.905455-93.905455z" fill="#B1BECE" p-id="12400"></path><path d="M532.48 529.105455H489.890909c-11.636364 14.894545-22.458182 29.556364-31.534545 43.403636a291.956364 291.956364 0 0 0-58.181819-43.403636h-50.26909l8.378181-19.316364a230.981818 230.981818 0 0 0-93.789091-14.894546c-134.050909 9.658182-192.349091 102.981818-213.294545 139.636364V221.905455a42.705455 42.705455 0 0 1 42.705455-42.705455h407.272727L523.636364 128H93.905455A94.021818 94.021818 0 0 0 0 221.905455V768a94.021818 94.021818 0 0 0 93.905455 93.905455h361.30909z" fill="#B1BECE" p-id="12401"></path><path d="M298.705455 324.305455m-76.8 0a76.8 76.8 0 1 0 153.6 0 76.8 76.8 0 1 0-153.6 0Z" fill="#B1BECE" p-id="12402"></path><path d="M193.745455 428.218182v31.069091h38.4v30.487272c0 7.796364 0 16.058182-0.581819 24.785455s0 17.105455-0.581818 24.669091 0 14.196364 0 19.665454v9.89091a26.414545 26.414545 0 0 1-3.723636 15.476363 20.712727 20.712727 0 0 1-14.778182 6.167273l-15.010909 1.396364-4.654546-14.661819 16.407273-1.512727a7.447273 7.447273 0 0 0 5.934546-3.025454 16.756364 16.756364 0 0 0 1.629091-8.145455v-9.076364-16.64-20.247272-20.247273-16.407273-8.727273h-23.97091c-0.698182 16.058182-1.629091 29.905455-3.141818 41.658182a195.723636 195.723636 0 0 1-6.050909 31.418182 131.84 131.84 0 0 1-9.774545 25.483636 200.610909 200.610909 0 0 1-13.847273 23.272728l-12.8-6.865455a158.254545 158.254545 0 0 0 13.381818-21.410909 129.396364 129.396364 0 0 0 9.425455-23.272727 195.374545 195.374545 0 0 0 5.934545-29.789091c1.396364-11.636364 2.443636-24.32 3.025455-39.563636v-0.93091h-22.341818v-13.847272h23.272727v-9.309091-9.192727V427.52z m113.687272 21.061818v143.476364h-13.963636v-15.36h-32.930909v15.36h-13.730909V449.28z m-13.963636 114.501818v-100.770909h-32.930909v100.770909zM429.381818 566.225455l-12.8 1.396363-17.105454 1.512727v25.949091h-13.381819V570.181818l-14.42909 1.047273-13.498182 1.047273-11.636364 0.814545h-9.774545l-1.396364-11.636364h10.24l12.567273-0.698181 13.963636-0.930909 13.963636-1.28v-13.73091h-34.90909v-11.636363c4.538182-6.865455 8.494545-13.614545 11.636363-20.247273h-19.781818v-11.636364h26.298182c1.28-2.443636 2.443636-4.887273 3.490909-6.981818s1.978182-4.305455 3.025454-6.4l12.8 3.141818c-0.814545 1.861818-1.745455 3.607273-2.56 5.236364s-1.512727 3.374545-2.327272 5.003636h46.545454v11.636364h-52.48l-5.236363 9.658182c-1.861818 3.258182-3.84 6.632727-6.050909 10.24h19.54909v-13.381818h13.381819v13.032727h28.858181v11.636364h-28.858181v13.265454l16.989091-1.512727 12.8-1.396364z m21.643637-80.64a382.603636 382.603636 0 0 0 7.214545 50.967272 149.294545 149.294545 0 0 0 11.636364-20.130909 217.483636 217.483636 0 0 0 9.541818-23.272727l11.636363 5.003636a267.636364 267.636364 0 0 1-13.265454 29.789091 167.098182 167.098182 0 0 1-15.825455 24.901818c1.978182 6.050909 3.956364 11.636364 5.818182 15.36a38.167273 38.167273 0 0 0 4.887273 8.494546 6.283636 6.283636 0 0 0 4.770909 2.443636c1.745455 0 3.025455-1.163636 3.956364-3.490909a99.374545 99.374545 0 0 0 2.792727-11.636364c0.581818-3.025455 0.930909-5.469091 1.163636-7.563636s0-4.538182 0.698182-7.563636l11.636364 5.469091V558.545455a29.556364 29.556364 0 0 1 0 3.374545c0 1.163636 0 2.443636-0.698182 3.84s-0.581818 3.374545-1.047273 5.701818a85.294545 85.294545 0 0 1-3.258182 11.636364 23.272727 23.272727 0 0 1-4.072727 7.098182 11.636364 11.636364 0 0 1-5.003636 3.607272 16.756364 16.756364 0 0 1-5.934546 1.047273 17.454545 17.454545 0 0 1-11.636363-4.072727 43.869091 43.869091 0 0 1-9.774546-14.429091c-1.396364-2.909091-2.792727-6.632727-4.421818-10.938182a267.962182 267.962182 0 0 1-27.578182 26.065455l-9.658182-10.821819a218.181818 218.181818 0 0 0 17.803637-14.778181 200.145455 200.145455 0 0 0 14.778182-15.127273 264.378182 264.378182 0 0 1-6.516364-29.323636c-1.861818-10.938182-3.258182-23.272727-4.305455-35.49091h-97.629091v-11.636363h43.403637v-17.803637h-33.861818v-11.636363h33.861818v-17.92l13.265454 0.581818v17.687273h32.581819v11.636363H395.636364v16.989091h40.727272v-4.770909-4.887273l-1.28-38.167272h13.381819l1.745454 40.261818v7.098182h52.48v11.636363z m31.883636-17.92c-2.210909-2.676364-4.421818-5.469091-6.749091-8.145455a91.810909 91.810909 0 0 0-7.214545-7.68c-2.327273-2.327273-4.654545-4.421818-6.981819-6.4s-4.072727-3.490909-5.701818-4.770909l8.378182-8.378182A121.6 121.6 0 0 1 477.090909 442.181818a135.214545 135.214545 0 0 1 14.196364 15.010909zM616.727273 522.24a89.018182 89.018182 0 0 0 10.24 19.2 79.476364 79.476364 0 0 0 14.778182 15.941818 122.414545 122.414545 0 0 0 20.247272 13.498182 221.090909 221.090909 0 0 0 26.530909 11.636364l-8.727272 13.381818a174.545455 174.545455 0 0 1-44.567273-24.901818 95.650909 95.650909 0 0 1-27.229091-34.094546A106.938182 106.938182 0 0 1 581.818182 568.436364a188.392727 188.392727 0 0 1-46.545455 28.043636l-9.076363-12.567273a169.890909 169.890909 0 0 0 48.989091-28.16 72.843636 72.843636 0 0 0 23.272727-33.512727h-69.585455v-13.963636h70.865455v-1.163637-11.636363-21.061819h-39.447273a203.054545 203.054545 0 0 1-14.312727 27.578182l-12.334546-6.749091a133.352727 133.352727 0 0 0 8.145455-13.963636c2.56-5.12 4.887273-10.24 7.214545-15.476364s4.189091-10.589091 6.050909-15.825454 3.374545-10.472727 4.654546-15.592727l13.614545 3.141818c-2.210909 7.796364-4.770909 15.476364-7.563636 23.272727h34.909091v-32.232727l14.894545 0.581818v31.301818H674.909091v13.730909h-59.461818v34.094546h67.723636v13.963636zM755.432727 521.076364a116.363636 116.363636 0 0 1-1.745454 21.294545 59.810909 59.810909 0 0 1-6.516364 17.803636 81.454545 81.454545 0 0 1-12.916364 16.756364 194.443636 194.443636 0 0 1-20.712727 18.152727l-9.658182-9.541818a166.632727 166.632727 0 0 0 20.596364-16.523636 67.84 67.84 0 0 0 11.636364-15.243637 48.756364 48.756364 0 0 0 5.352727-15.243636 95.650909 95.650909 0 0 0 1.28-16.872727v-56.901818h12.334545zM835.141818 546.909091a128 128 0 0 0 17.687273 20.014545 205.498182 205.498182 0 0 0 23.970909 19.083637l-8.96 10.821818a247.156364 247.156364 0 0 1-23.272727-19.432727 155.810909 155.810909 0 0 1-17.454546-18.850909 152.32 152.32 0 0 1-19.549091 20.363636 266.589091 266.589091 0 0 1-25.832727 19.781818l-9.309091-11.636364a221.090909 221.090909 0 0 0 27.578182-19.781818A123.345455 123.345455 0 0 0 819.432727 546.909091a127.185455 127.185455 0 0 1-11.636363-25.250909 181.061818 181.061818 0 0 1-7.098182-28.16 182.923636 182.923636 0 0 1-11.636364 17.338182L779.636364 500.363636v44.8h-13.032728V453.818182h-34.909091v91.927273H719.127273v-104.727273H779.636364v56.901818a106.472727 106.472727 0 0 0 10.938181-16.174545 168.96 168.96 0 0 0 8.61091-17.92c2.443636-6.050909 4.538182-11.636364 6.4-18.152728s3.374545-11.636364 4.770909-17.570909l14.08 1.163637c-1.28 4.770909-2.676364 9.541818-3.956364 14.312727s-2.792727 9.425455-4.421818 13.963636h58.181818v12.8h-15.709091a246.225455 246.225455 0 0 1-8.261818 42.356364 139.636364 139.636364 0 0 1-15.127273 34.210909z m-62.254545 37.352727a77.381818 77.381818 0 0 0-4.887273-7.098182c-1.629091-2.094545-3.374545-4.072727-5.12-6.050909l-5.585455-5.469091-5.934545-5.585454 7.447273-9.658182c4.072727 3.607273 8.029091 7.330909 11.636363 11.636364s7.68 8.029091 11.636364 12.567272z m36.887272-110.196363a206.08 206.08 0 0 0 6.283637 32.465454 137.192727 137.192727 0 0 0 11.636363 28.043636 115.2 115.2 0 0 0 11.636364-29.090909 288.465455 288.465455 0 0 0 5.818182-34.909091H811.054545v1.745455z" fill="#1F3041" opacity=".7" p-id="12403"></path></svg>
        </el-image>
      </div>
    </el-main>
    <el-footer>
      <div class="contain-left">
        <el-tooltip class="item" effect="dark" :content="info.description" placement="top">
          <p style="font-size: 10px" class="text-overflow">{{this.truncateString(info.description, 15)}}</p>
        </el-tooltip>
        <el-tooltip class="item" effect="dark" :content="info.status + '-' + info.message" placement="top">
          <p style="font-size: 8px" class="text-overflow">{{info.status}} - {{this.truncateString(info.message, 10)}}</p>
        </el-tooltip>
        <p class="ending" style="font-size: 6px;text-align: right;color: gray">{{info.startTime}}</p>
      </div>
    </el-footer>
    <div class="ending">
      <ul class="operator-ul">
        <li @click="remove">
          <el-tooltip class="item" effect="light" content="删除">
            <svg t="1726836970722" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="28375" width="48" height="48"><path d="M384.866462 338.353231l17.526153-102.4h228.036923l17.526154 102.4" fill="#000000" p-id="28376"></path><path d="M355.643077 820.814769a29.538462 29.538462 0 0 1-29.499077-27.569231l-27.569231-425.353846H253.321846a29.577846 29.577846 0 0 1-29.538461-29.61723 29.538462 29.538462 0 0 1 29.538461-29.538462h106.614154l13.508923-77.745231a29.538462 29.538462 0 0 1 28.987077-24.576h228.036923a29.538462 29.538462 0 0 1 29.144615 24.576l13.154462 77.824h106.653538a29.538462 29.538462 0 0 1 29.538462 29.538462 29.577846 29.577846 0 0 1-29.538462 29.577846h-45.449846l-27.56923 425.353846a29.577846 29.577846 0 0 1-29.499077 27.569231z m27.569231-59.076923h266.24l25.52123-393.846154h-317.046153z m36.706461-452.923077h192.984616l-7.404308-43.323077h-178.254769z m23.433846 395.303385a29.538462 29.538462 0 0 1-29.538461-29.538462 29.577846 29.577846 0 0 1 29.538461-29.577846h146.195693a29.577846 29.577846 0 0 1 29.577846 29.577846 29.577846 29.577846 0 0 1-29.577846 29.538462z" fill="#009A9A" p-id="28377"></path><path d="M253.282462 338.274462h526.25723" fill="#000000" p-id="28378"></path><path d="M443.352615 674.500923h146.195693" fill="#000000" p-id="28379"></path></svg>
          </el-tooltip>
        </li>
        <li @click="showInfo">
          <el-tooltip class="item" effect="light" content="详情">
            <svg t="1726848373192" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="40934" width="32" height="32"><path d="M512 108.8c-232.7 0-431.5 203.6-512 403.3 80.5 199.8 279.3 403.3 512 403.3s431.5-203.6 512-403.3c-80.5-199.7-279.3-403.3-512-403.3z m0 630.9c-128.5 0-232.7-101.9-232.7-227.6 0-125.6 104.3-227.6 232.7-227.6 128.5 0 232.7 102 232.7 227.6S640.5 739.7 512 739.7zM356.6 514.1c0 86.2 69.3 155.5 155.1 155.5s155.1-69.3 155.1-155.1-69.3-155.1-155.1-155.1c-85.5-0.2-155 69.1-155.1 154.7z" fill="#1DC2BA" p-id="40935"></path></svg>
          </el-tooltip>
        </li>
      </ul>

    </div>
  </el-container>
</template>

<script>
    export default {
        name: "card",
        props: {
          processInfo: {
            type: Object,
            required: true
          }
        },
        data() {
          return {
             info: this.processInfo
          }
        },
      mounted() {

      },
      methods: {
        remove() {
          this.$emit('remove-img', this.processInfo.processId);
        },
        showInfo() {
          this.$emit('show-info', this.processInfo.processId, this.processInfo.description);
        },
        truncateString(str, len) {
          if (str.length > len) {
            return str.substring(0, len) + "..."; // 截取前15个字符
          }
          return str; // 如果不大于15，返回原字符串
        }
      }
    }
</script>

<style scoped>
  .container {
    width: 100%;
    border-radius: 10px;
    background-color: #fff;
    transition: all 0.5s;
  }
  .card {
    width: 100%;
    padding-top: 5px;
    /*height: 100%;*/
    border-radius: 10px;
    background-color: #fff;
    transition: all 0.5s;
  }
  .contain ::v-deep *{
    padding: 0;
    border-radius: 10px;
  }

  .contain {
    display: flex;
    justify-content: center;
    width: 100%;
  }

  .card ::v-deep .el-image__inner {
    width: 60%;
    height: 100%;
  }
  .card ::v-deep * {
    padding: 0;
  }


  .container:hover {
    border-radius: 10px;
    box-shadow: 0 1px 5px #656565;
    transform: translateY(-5px);
    cursor: pointer;
  }

  .text-overflow {
    width: 100%;               /* 限定文本区域宽度 */
    white-space: nowrap;         /* 不换行 */
    overflow: hidden;            /* 超出部分隐藏 */
    text-overflow: ellipsis;     /* 超出部分显示省略号 */
  }


  .ending {
    margin-bottom: 5px;
  }
  .operator-ul {
    display: inline-block;
    padding-inline-start: 0;
    /*display: flex;*/
    /*justify-content: left;*/
    width: 40%;
  }
  .operator-ul >li {
    display: inline-block;
    list-style: none;
    width: 20px;
    height: 20px;
    border-radius: 10px;
    text-align: center;
    margin-left: 5px;
    margin-right: 5px;
    transition: all .3s linear;
  }

  .operator-ul >li:hover {
    transform: scale(1.1);
  }

  .ending > p {
    display: inline-block;
    width: 50%;
    line-height: inherit;
    padding-bottom: 5px;
    transform: translateY(-50%);
  }
</style>
